<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <title>Videojs Test</title>
    <!--video-js-->
    <link href="http://vjs.zencdn.net/4.12/video-js.css" rel="stylesheet">
    <script src="http://vjs.zencdn.net/4.12/video.js"></script>

    <script src="https://code.jquery.com/jquery-1.11.3.min.js"></script>


    <!--RangeSlider Pluging-->
    <script src="src/rangeslider.js"></script>
    <link href="src/rangeslider.min.css" rel="stylesheet">

    <script src="src/videojs-markers/dist/videojs-markers.min.js"></script>
    <link href="src/videojs-markers/dist/videojs.markers.min.css" rel="stylesheet">

      <!--Demo CSS-->
    <link href="src/demo.css" rel="stylesheet">
  </head>

  <body style="margin:10px">

    <video id="vid1" class="video-js vjs-default-skin vjs-big-play-centered" controls preload="auto" width="640" height="464"
    poster="http://video-js.zencoder.com/oceans-clip.png"
    data-setup='{}'>
      <source src="http://video-js.zencoder.com/oceans-clip.mp4" type='video/mp4' />
      <source src="http://video-js.zencoder.com/oceans-clip.webm" type='video/webm' />
      <source src="http://video-js.zencoder.com/oceans-clip.ogv" type='video/ogg' />
    </video>

    <div id="fieldSelection">
      <legend> Stages </legend>
      <div class="button" onclick="setloopBetween(0,5)">Stage 1 </div>
      <div class="button" onclick="setloopBetween(5,10)">Stage 2 </div>
      <div class="button" onclick="setloopBetween(10,15)">Stage 3 </div>
      <div class="button" onclick="setloopBetween(15,25)">Stage 4 </div>
      <div class="button" onclick="setloopBetween(25,46)">Stage 5 </div>
    </div>
    <!--
    <div id="fieldSelection">
      <legend>Actions</legend>
      <div class="button" onClick="showhide()">Show/Hide Loop Control</div>
      <div class="button" onClick="lockunlock()">Lock/Unlock RS</div>
      <div class="button" onClick="showhidePanel()">show/hide Panel</div>
      <div class="button" onClick="showhideControlTime()">show/hide ControlTime</div>
    </div>

    <div id="fieldSelection">
      <legend>Select a section of the video</legend>
      <div class="button" onClick="playBetween()">Play Between</div>
      <div class="button" onClick="loopBetween()">Loop Between</div>
      <div class="button" onClick="getValues()">Get Arrow Values</div><br/>
      Start at (seconds):<input type="text" value="2" id="Start">
      End at (seconds): <input type="text" value="5" id="End">
    </div>
    -->
  </body>

  <script>
    //Example of options ={hidden:false,locked:true,panel:false}
    var options ={hidden:false},
    mplayer =videojs("vid1",{
      controls: true,
      preload: "auto",
      inactivityTimeout: 0,
      controlBar: {
        muteToggle: false,
      },
      playbackRates: [0.5, 1, 1.5, 2]

    },function() {


    });
    mplayer.markers({
      onMarkerReached: function(marker){
      },
      markerStyle: {
        'width':'10px',
        'background-color': 'red'
      },
      markerTip:{
        display: true,
        text: function(marker) {
          return "This is a break: " + marker.text;
        }
      },
      breakOverlay:{
        display: true,
        text: function(marker) {
          return marker.text;
        }
      },
      markers: [
        {time: 0,   text: "Stage 1"},
        {time: 5,   text: "Stage 2"},
        {time: 10,  text: "Stage 3"},
        {time: 15,  text: "Stage 4"},
        {time: 25,  text: "Stage 5"},
        {time: 46,  text: "End"}
      ]
    });
    mplayer.rangeslider(options);

    function playBetween(){
      var start,end;
      start = document.getElementById('Start').value;
      end = document.getElementById('End').value;
      mplayer.playBetween(start,end);
    }
    function loopBetween() {
        var start = document.getElementById('Start').value;
        var end = document.getElementById('End').value;
        mplayer.loopBetween(start, end);
    }
    function getValues(){
      var values = mplayer.getValueSlider();
      console.log(values);
      document.getElementById('Start').value=videojs.round(values.start,2);
      document.getElementById('End').value=videojs.round(values.end,2);
    }

    function showhide(){
      var plugin=mplayer.rangeslider.options;
      if(plugin.hidden)
        mplayer.showSlider();
      else
        mplayer.hideSlider();
    }
    function lockunlock(){
      var plugin=mplayer.rangeslider.options;
      if(plugin.locked)
        mplayer.unlockSlider();
      else
        mplayer.lockSlider();
    }
    function showhidePanel(){
      var plugin=mplayer.rangeslider.options;
      if(!plugin.panel)
        mplayer.showSliderPanel();
      else
        mplayer.hideSliderPanel();
    }
    function showhideControlTime(){
      var plugin=mplayer.rangeslider.options;
      if(!plugin.controlTime)
        mplayer.showControlTime();
      else
        mplayer.hideControlTime();
    }
    function setloopBetween(start,end) {
      mplayer.loopBetween(start,end);
    }
  </script>
</html>

